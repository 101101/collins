{% comment %}
This is the base layout for all of our pages.
It takes a title, subtitle, and section hash from the appropriate data directory.
You specify which data file to use in the parent file by passing the 'data' parameter.
Read more about jekyll and data files here: http://jekyllrb.com/docs/datafiles/
Read more about liquid and include params here: http://jekyllrb.com/docs/templates/#includes
{% endcomment %}
<header class="jumbotron subhead">
  <div class="container">
    <h1>{{ include.data.title }}</h1>
    <p class="lead">{{ include.data.subtitle }}</p>
  </div>
</header>

<div class="container">
  <div class="row">
    <div class="col-md-3 sidebar">
      <ul class="nav nav-list sidenav">
        {% for section in include.data.sections %}
        <li><a href="#{{ section[0] | downcase }}"><i class="glyphicon glyphicon-chevron-right"></i>{{ section[0] | capitalize }}</a></li>
        <ul class="nav nav-list">
          {% for subsection in section[1].subsections %}
          <li><a href="#{{ section[0] | downcase}}-{{ subsection[0] | downcase }}"><i class="glyphicon glyphicon-chevron-right"></i>{{ subsection[0] | capitalize }}</a></li>
          {% endfor %}
        </ul>
        {% endfor %}
      </ul>
    </div>

    <div class="col-md-9">
      {% for section in include.data.sections %}
      <section id="{{ section[0] | downcase }}">
        <h1>{{ section[0] || capitalize }}</h1>
        {% assign section_include=section[1].content %}
        <!-- include does not like section[1] -->
        {% include {{section_include}} %}
        {% for subsection in section[1].subsections %}
        <section id="{{ section[0] || downcase }}-{{ subsection[0] | downcase }}">
          <div class="page-header">
            <h2>{{ subsection[0] || capitalize }}</h2>
          </div>
          {% assign subsection_iclude=subsection[1] %}
          {% include {{ subsection_iclude }} %}
        </section>
        {% endfor %}
      </section>
      {% endfor %}
    </div>
  </div>
</div>
